\chapter{YaST2.First-Stage}

The YaST2.First-Stage script is the first script called for any
installation process. linuxrc will call /sbin/yast which is a link
to the YaST2.First-Stage script. Usually the system will reboot after
this script has finished. 

\section{First-Stage Hooks}
The following First-Stage hook directories are checked:

\begin{itemize}
\item \textbf{\underline{preFirstStage}}\\
      Within the ins-sys each script stored in the preFirstStage directory is
      called directly in front of the YaST2.First-Stage script
\item \textbf{\underline{postFirstStage}}\\
      Within the ins-sys each script stored in the postFirstStage directory is
      called directly after the YaST2.First-Stage script has been finished
\end{itemize}

\section{First-Stage main script}
The following tasks are handled in the YaST2.First-Stage script

\begin{enumerate}
\item Include common used and stage functions
\item Source \textbf{/etc/install.inf}
\item Setup ARCH\_* variables
\item Export important variables for use in subshells
\item Initialize y2start.log
\item Create stage list and call level scripts
\end{enumerate}

\newpage

\section{First-Stage level scripts}
The following tasks are handled in the specified level scripts

\begin{enumerate}
\subsection{F02-hwinfo}
\item Start hardware detection
\subsection{F03-language}
\item Set Language environment
\item Start Unicode mode
\subsection{F04-cmdline}
\item Handle kernel parameters
\subsection{F05-terminal}
\item Init virtual consoles (initviocons)
\subsection{F06-config}
\item Create mtab according to /proc/mounts
\subsection{F07-logging}
\item Set logging size
\subsection{F08-start}
\item \textbf{Call YaST2.call (initial)}
\item Save log file y2start.log to installed system
\subsection{F09-cleanup}
\item Clean sweep (umount, etc...)
\item Write YaST2 exit code to /tmp/YaST2-First-Stage-Exit-Code
\end{enumerate}
