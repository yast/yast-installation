@HEADER-COMMENT@


@HEADER@
BuildRequires:  docbook-xsl-stylesheets doxygen libxslt perl-XML-Writer sgml-skel update-desktop-files yast2-core-devel yast2-devtools yast2-testsuite

# URL::MakeParamsFromMap and URL::MakeMapFromParams
BuildRequires:	yast2 >= 2.16.25

Requires:       autoyast2-installation

# URL::MakeParamsFromMap and URL::MakeMapFromParams
Requires:	yast2 >= 2.16.25

# Required in in the first stage, after
# switching to the installed system, bugzilla #249679

Requires:	yast2-bootloader
# Newly created RPM

Requires:	yast2-country-data >= 2.16.3

# New System-selection data and API DefaultDesktop module
# New API in ProductLicense
Requires:	yast2-packager >= 2.16.18

# Only in inst-sys
# Requires:	yast2-runlevel
# Requires:	yast2-network
# Requires:	yast2-add-on
# Requires:	yast2-mouse
# Requires:	yast2-storage
# Requires:	yast2-update

# extra sources in ResolvableProperties()
# "", `language", "" in ResolvableProperties()
# pkg-bindings are not directly required
Conflicts:	yast2-pkg-bindings < 2.13.101

# 'Product' and 'Installation' moved to 'yast2'
# needs NetworkService::isNetworkRunning() from yast2
Conflicts:	yast2 < 2.15.35

# New builtin setenv()
# Bugzilla #305163
Conflicts:	yast2-core <= 2.15.9

# tar-gzip some system files and untar-ungzip them after the installation (FATE #300421, #120103)
Requires:	tar gzip
Requires:	coreutils

# for the first/second stage of installation
# currently not used
# bugzilla #208307
#Requires:	/usr/bin/jpegtopnm
#Requires:	/usr/bin/pnmtopng

Recommends:	yast2-registration
Recommends:	yast2-online-update
Recommends:	yast2-users
Recommends:	yast2-firewall
Recommends:	release-notes
Recommends:	curl
Recommends:	yast2-update
Recommends:	yast2-add-on

PreReq:		%fillup_prereq

BuildArchitectures: noarch

Summary:	Installation workflow

%package devel-doc
@HEADER@

Requires:	yast2-installation >= 2.15.34

PreReq:		%fillup_prereq

Summary:	Auto-generated documentation for yast2-installation

%description
This controls the system installation.

%description devel-doc
YaST Installation - auto-generated documentation.

@PREP@

@BUILD@

@INSTALL@

@CLEAN@

%pre

%post
%{fillup_only -ns security checksig}

%files
%defattr(-,root,root)
%dir /usr/share/YaST2/control
/usr/share/YaST2/control/*.xml
/usr/share/YaST2/control/*.dtd

@clientdir@/*.ycp
@moduledir@/*.ycp
@moduledir@/*.ybc
@desktopdir@/*.desktop
%dir @yncludedir@/installation
@yncludedir@/installation/*

# agents
@scrconfdir@/etc_passwd.scr
@scrconfdir@/proc_mounts.scr
@scrconfdir@/cfg_windowmanager.scr
@scrconfdir@/cfg_fam.scr
@scrconfdir@/etc_install_inf.scr
@scrconfdir@/etc_install_inf_alias.scr
@scrconfdir@/etc_install_inf_options.scr
@scrconfdir@/run_get_suseconfig_modules.scr
@scrconfdir@/proc_modules.scr
@scrconfdir@/run_df.scr
# fillup
@fillupdir@/sysconfig.security-checksig

# programs and scripts
@ystartupdir@/startup

# icewm
/etc/icewm

%dir @docdir@
@docdir@/COPYING
%readme @docdir@/README

%files devel-doc
%defattr(-,root,root)
%doc @docdir@
%exclude @docdir@/COPYING
%exclude @docdir@/README
